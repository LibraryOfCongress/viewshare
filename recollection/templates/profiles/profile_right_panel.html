{% load i18n %}
{% load humanize i18n %}
{% load pagination_tags %}
{% load timezone_filters %}
{% load avatar_tags %}
{% load dataset_tags %}
{% load dataview_tags %}

<div id="user_sections">
  
{% if is_me %}

{% ifequal other_user.datasets.count 0 %}

<div class="user_data_upload">
  <p class="hyper-upload">
    <a href="{% url upload_dataset %}" class="button_link">Upload&nbsp;Data</a>
    <p class="center">Add data to your profile to start sharing collections!</p>
  </p>
</div>              

{% endifequal %}

{% ifnotequal other_user.datasets.count 0 %}

<div class="dataset_list">
  <h2>{% blocktrans %}Data Sets{% endblocktrans %}</h2>
  {% dataset_list other_user.datasets.all 3 0 %}

  {% ifnotequal other_user.datasets.count 0 %}
  {% ifnotequal other_user.datasets.count 1 %}
  {% ifnotequal other_user.datasets.count 2 %}
  {% ifnotequal other_user.datasets.count 3 %}
  <div class="see_all">
    <a href="{% url user_datasets other_user.username %}">{% trans "See all" %}  {{other_user.datasets.count}} set{{ other_user.datasets.count|pluralize }}</a>
  </div>
  {% endifnotequal %}
  {% endifnotequal %}
  {% endifnotequal %}
  {% endifnotequal %}
</div>


<div class="dataview_list">
  <h2>{% blocktrans %}Data Views{% endblocktrans %}</h2>
  {% dataview_list other_user.data_views.all 3 0 %}

  {% ifnotequal other_user.data_views.count 0 %}
  {% ifnotequal other_user.data_views.count 1 %}
  {% ifnotequal other_user.data_views.count 2 %}
  {% ifnotequal other_user.data_views.count 3 %}
  <div class="see_all">
    <a href="{% url freemix_root other_user.username %}">{% trans "See all" %}  {{other_user.data_views.count}} view{{ other_user.data_views.count|pluralize }}</a>
  </div>
  {% endifnotequal %}
  {% endifnotequal %}
  {% endifnotequal %}
  {% endifnotequal %}
</div>

{% endifnotequal %}

{% else %}

{% ifnotequal other_user.datasets.count 0 %}

<div class="dataset_list">
  <h2>{% blocktrans %}Data Sets{% endblocktrans %}</h2>
  {% dataset_list other_user.datasets.all 3 0 %}
  {% ifnotequal other_user.datasets.count 0 %}
  {% ifnotequal other_user.datasets.count 1 %}
  {% ifnotequal other_user.datasets.count 2 %}
  {% ifnotequal other_user.datasets.count 3 %}
  <div class="see_all">
    <a href="{% url user_datasets other_user.username %}">{% trans "See all" %} {{other_user.datasets.count}} set{{ other_user.datasets.count|pluralize }}</a>
  </div>
  {% endifnotequal %}
  {% endifnotequal %}
  {% endifnotequal %}
  {% endifnotequal %}
</div>


<div class="dataview_list">
  <h2>{% blocktrans %}Data Views{% endblocktrans %}</h2>
  {% dataview_list other_user.data_views.all 3 0 %}
  {% ifnotequal other_user.data_views.count 0 %}
  {% ifnotequal other_user.data_views.count 1 %}
  {% ifnotequal other_user.data_views.count 2 %}
  {% ifnotequal other_user.data_views.count 3 %}
  <div class="see_all">
    <a href="{% url freemix_root other_user.username %}">{% trans "See all" %} {{other_user.data_views.count}} view{{ other_user.data_views.count|pluralize }}</a>
  </div>
  {% endifnotequal %}
  {% endifnotequal %}
  {% endifnotequal %}
  {% endifnotequal %}
</div>

{% endifnotequal %}


{% endif %}


</div>
